<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Javascript Integration (by page-type) - BrainSINS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="assets/css/bootstrap.css" rel="stylesheet">
    <link href="assets/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="assets/css/docs.css" rel="stylesheet">
    <link href="assets/js/google-code-prettify/prettify.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="assets/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png">
                    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png">
                                   <link rel="shortcut icon" href="assets/ico/favicon.png">

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-25583205-3']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>

  <body data-spy="scroll" data-target=".bs-docs-sidebar">

    <!-- Navbar
    ================================================== -->
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="http://www.brainsins.com/en" target="_blank">BrainSINS</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="">
                <a href="./index.html">Developers Home</a>
              </li>
              <li class="">
                <a href="./getting-started.html">Get started</a>
              </li>
              <li class="">
                <a href="./plugins.html">Plugins</a>
              </li>
              <li class="active">
                <a href="./javascript.html">JavaScript</a>
              </li>
              <li class="">
                <a href="http://support.brainsins.com" target="_blank">Support</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

<!-- Subhead
================================================== -->
<header class="jumbotron subhead">
  <div class="container">
    <h1>JavaScript</h1>
    <p class="lead">BrainSINS JavaScript integration; examples by page-type
    
  </div>
</header>

  <div class="container">

    <div class="alert alert-info bs-alert-old-docs">
      <strong>Heads up!</strong> If your online store is based on Prestashop, you may it easier to use our Prestashop module: <a href="./plugins.html">Check our Plugins section.</a>
    </div>

    <!-- Docs nav
    ================================================== -->
    <div class="row">
      <div class="span3 bs-docs-sidebar">
        <ul class="nav nav-list bs-docs-sidenav">
	      <li><a href="#overview"><i class="icon-chevron-right"></i> Overview</a></li>
          <li><a href="#product"><i class="icon-chevron-right"></i> Product Page</a></li>
          <li><a href="#cart"><i class="icon-chevron-right"></i> Cart Page</a></li>
          <li><a href="#checkout"><i class="icon-chevron-right"></i> Checkout Page</a></li>
          <li><a href="#thankYou"><i class="icon-chevron-right"></i> Thank You Page</a></li>
          <li><a href="#category"><i class="icon-chevron-right"></i> Category Page</a></li>
          <li><a href="#home"><i class="icon-chevron-right"></i> Home Page</a></li>
          <li><a href="#user-json"><i class="icon-chevron-right"></i> User Management (JSON)</a></li>
          <li><a href="#user-events"><i class="icon-chevron-right"></i> User Management (Events)</a></li>
        </ul>
      </div>
      <div class="span9">

        <!-- Overview 
        ================================================== -->
        <section id="overview">
          <div class="page-header">
            <h1>BrainSINS JavaScript Integration (by Example)</h1>
          </div>

          <p>This documentation page shows some examples of the JSON code you have to place in each page type of your online store. If you haven't checked the <a href="./javascript.html">specification of our JSON notation</a>, we encourage you to do so before reading this guide.</p>
           </section>

        <!-- Product Page
        ================================================== -->
        <section id="product">
          <div class="page-header">
            <h1>Example 1: Product Page</h1>
          </div>
		  <p>In the product page you need to include another tag, that will send us the information about the product being visited by the user:</p>
		
		<pre class="prettyprint linenums">
&lt;!-- BrainSINS Code Starts --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
   var BrainSINSData = {
      pageType: &quot;product&quot;,
      productId: ID_PRODUCT
   };
&lt;/script&gt;
&lt;!-- BrainSINS Code Ends --&gt;</pre>
          
		<p>ID_PRODUCT should be replaced by the unique identifier of the product that the user is visualizing in that moment. That unique identifier should be the same that exists on your product feed.</p>

		<p>For instance, if the product id is “123″, you should be generating the following code:</p>

     	<pre class="prettyprint linenums">
&lt;!-- BrainSINS Code Starts --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
   var BrainSINSData = {
      pageType: &quot;product&quot;,
      productId: 123
   };
&lt;/script&gt;
&lt;!-- BrainSINS Code Ends --&gt;</pre>
 </section>

        <!-- Cart Page
        ================================================== -->
        <section id="cart">
          <div class="page-header">
            <h1>Example 2: Cart Page</h1>
          </div>
		  <p>In the cart page you need to generate a code that sends to BrainSINS the cart contents, including the product ids and the quantity for each product:</p>

		<pre class="prettyprint linenums">
&lt;!-- BrainSINS Code Starts --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
   var BrainSINSData = {
      pageType: &quot;cart&quot;,
      cart: [
	     {id: ID, quantity: QUANTITY},
	     {id: ID, quantity: QUANTITY},
	     {id: ID, quantity: QUANTITY},
	     ...
	  ]
   };
&lt;/script&gt;
&lt;!-- BrainSINS Code Ends --&gt;</pre>

		<p>In the cart section you have to include all the products that the user has added to his cart, including the ID or unique identifier of the product, and QUANTITY or the quantity that the user has added of that given product to his cart.</p>

		<p>For instance, if your client has included 2 times the item 123 and 1 time the item 456, the code you’d generate should be the following one:</p>

     	<pre class="prettyprint linenums">
&lt;!-- BrainSINS Code Starts --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
   var BrainSINSData = {
      pageType: &quot;cart&quot;,
      cart: [
         {id: 123, quantity: 2},
         {id: 456, quantity: 1}
      ]
   };
&lt;/script&gt;
&lt;!-- BrainSINS Code Ends --&gt;</pre>

	<p>If your cart page is the same one that the page where checkout starts, you should change the pageType to “checkout”, mixing the information of the cart page and the begin checkout page. In this situation, you should avoid the next step (step 3: starting the checkout process).</p>

	<p>An example of a the script you should put in your website when cart and begin checkout are in the same page:</p>
<pre class="prettyprint linenums">
&lt;!-- BrainSINS Code Starts --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
   var BrainSINSData = {
      pageType: &quot;checkout&quot;,
      cart: [
         {id: 123, quantity: 2},
         {id: 456, quantity: 1}
      ]
   };
&lt;/script&gt;
&lt;!-- BrainSINS Code Ends --&gt;</pre>

	<p>If your online store is able to add products via AJAX, in the button “Add to cart” in the product page, you should include the following function that will notify us that the product has been added to the cart:</p>
<pre class="prettyprint linenums">
&lt;!-- BrainSINS Code Starts --&gt;
   brainsins.addItem( ID_PRODUCT, QUANTITY, PRICE );
&lt;!-- BrainSINS Code Ends --&gt;</pre>
	
</section>

<!-- Checkout Page
================================================== -->
<section id="checkout">
  <div class="page-header">
    <h1>Example 3: Checkout Start</h1>
  </div>
  <p>When the checkout process start because the user is ready to pay, you need to generate the following code:</p>

<pre class="prettyprint linenums">
&lt;!-- BrainSINS Code Starts --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
   var BrainSINSData = {
      pageType: &quot;checkout&quot;
   };
&lt;/script&gt;
&lt;!-- BrainSINS Code Ends --&gt;</pre>

</section>



<!-- Thak You Page
================================================== -->
<section id="thankYou">
  <div class="page-header">
    <h1>Example 4: Checkout End (Thank You Page)</h1>
  </div>
  <p>When the user has already paid (in most cases in the thank you page), you need to send us a confirmation message including the total amount of the purchase. To do so, the code you need to generate is:</p>

<pre class="prettyprint linenums">
&lt;!-- BrainSINS Code Starts --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
   var BrainSINSData = {
      pageType: &quot;thankYou&quot;,
      totalAmout: TOTAL
   };
&lt;/script&gt;
&lt;!-- BrainSINS Code Ends --&gt;</pre>

   <p>TOTAL should be replaced by the total amount of the purchase.</p>

   <p>For instance, if the total value of the purchase is 98.54$ the code you’d generate should be the following one:</p>

<pre class="prettyprint linenums">
&lt;!-- BrainSINS Code Starts --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
   var BrainSINSData = {
      pageType: &quot;thankYou&quot;,
      totalAmout: 98.54
   };
&lt;/script&gt;
&lt;!-- BrainSINS Code Ends --&gt;</pre>

<p>Notice that totalAmount contains a float number, with no currency code or any additional element.</p>

</section>


<!-- Category Page
================================================== -->
<section id="category">
  <div class="page-header">
    <h1>Example 5: Category Listing</h1>
  </div>
  <p>When the user is visiting a given category, we should include the following code:</p>

<pre class="prettyprint linenums">
&lt;!-- BrainSINS Code Starts --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
   var BrainSINSData = {
      pageType: &quot;category&quot;,
      categories: CATEGORIES
   };
&lt;/script&gt;
&lt;!-- BrainSINS Code Ends --&gt;</pre>

   <p>CATEGORIES should be replaced by the name of the category the user is visiting, or the hierarchy of the given category, starting by the most general category and using “,” as delimiter.</p>

   <p>For instance, if we are visiting the “shirts” category, we should add the following code:</p>

<pre class="prettyprint linenums">
&lt;!-- BrainSINS Code Starts --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
   var BrainSINSData = {
      pageType: &quot;category&quot;,
      categories: &quot;shirts&quot;
   };
&lt;/script&gt;
&lt;!-- BrainSINS Code Ends --&gt;</pre>

</section>

<!-- Home Page
================================================== -->
<section id="home">
  <div class="page-header">
    <h1>Example 6: Homepage</h1>
  </div>
  <p>When the user is visiting the homepage, we should include the following code:</p>

<pre class="prettyprint linenums">
&lt;!-- BrainSINS Code Starts --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
   var BrainSINSData = {
      pageType: &quot;home&quot;,
   };
&lt;/script&gt;
&lt;!-- BrainSINS Code Ends --&gt;</pre>
</section>


<!-- Users
================================================== -->
<section id="users">
  <div class="page-header">
    <h1>User Management</h1>
  </div>
  <p>In order to be able to send your users email retargeting notifications, we need to know some data about your users. In the next sections you will discover the code you need to add to your online store when a users logs-in, logs-out or changes his email notification preferences.</p>

  <p>There exist two main approaches. One for websites that have an specific login/logout page, and other approach for webpages that do the login/logout via events (such as AJAX based logins).</p>

</section>

<!-- Users JSON
================================================== -->
<section id="user-json">
  <div class="page-header">
    <h1>Example 7: User Management (JSON)</h1>
  </div>

<h3>Log-in</h3>
  <p>When a users logs-in to your ecommerce website and its redirected to an specific login page, you need to insert the following code. Please, only include this code for users that have accepted to receive email notifications:</p>

<pre class="prettyprint linenums">
&lt;!-- BrainSINS Code Starts --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
   var BrainSINSData = {
      pageType: &quot;login&quot;,
      userEmail: EMAIL_USER,
      language: LANGUAGE
   };
&lt;/script&gt;
&lt;!-- BrainSINS Code Ends --&gt;</pre>

<p>EMAIL should be replaced by the customer’s email.</p>

<p>LANGUAGE should be replaced by the user’s language. In most cases, it will be “en” for english, “es” for spanish, etc.</p>

<p>Next you can find an example for the email “email@example.com”, and the english language.</p>

<pre class="prettyprint linenums">
&lt;!-- BrainSINS Code Starts --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
   var BrainSINSData = {
      pageType: &quot;login&quot;,
      userEmail: &quot;email@example.com&quot;,
      language: &quot;en&quot;
   };
&lt;/script&gt;
&lt;!-- BrainSINS Code Ends --&gt;</pre>

<h3>Log-out</h3>
  <p>When a users logs-out from your ecommerce website and its redirected to an specific logout page, you need to insert the following code.</p>

<pre class="prettyprint linenums">
&lt;!-- BrainSINS Code Starts --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
   var BrainSINSData = {
      pageType: &quot;logout&quot;
   };
&lt;/script&gt;
&lt;!-- BrainSINS Code Ends --&gt;</pre>
</section>

<h3>When the User Opts-out from Email Communications</h3>
  <p>When a users opts-out from your email communications, you must notify our system by including the following code:</p>

<pre class="prettyprint linenums">
&lt;!-- BrainSINS Code Starts --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
   var BrainSINSData = {
      pageType: &quot;login&quot;,
      userEmail: EMAIL_USER,
      userNewsletter: 0
   };
&lt;/script&gt;
&lt;!-- BrainSINS Code Ends --&gt;</pre>

<p>EMAIL should be replaced by the customer’s email.</p>

</section>



<!-- Users JSON
================================================== -->
<section id="user-events">
  <div class="page-header">
    <h1>Example 8: User Management (by Events)</h1>
  </div>

<h3>Log-in</h3>
  <p>When a users logs-in to your ecommerce website using an asynchronous event, you need to insert the following code. Please, only include this code for users that have accepted to receive email notifications:</p>

<pre class="prettyprint linenums">
&lt;!-- BrainSINS Code Starts --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
   BrainSINSTracker.trackEMailNewsletter( EMAIL_USER, 1, LANGUAGE );
&lt;/script&gt;
&lt;!-- BrainSINS Code Ends --&gt;</pre>

<p>EMAIL should be replaced by the customer’s email.</p>

<p>LANGUAGE should be replaced by the user’s language. In most cases, it will be “en” for english, “es” for spanish, etc.</p>

<p>Next you can find an example for the email “email@example.com”, and the english language.</p>

<pre class="prettyprint linenums">
&lt;!-- BrainSINS Code Starts --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
   BrainSINSTracker.trackEMailNewsletter( &quot;email@example.com&quot;, 1, &quot;en&quot; );
&lt;/script&gt;
&lt;!-- BrainSINS Code Ends --&gt;</pre>

<h3>Log-out</h3>
  <p>When a users logs-out from your ecommerce website using an asynchronous event you need to insert the following code.</p>

<pre class="prettyprint linenums">
&lt;!-- BrainSINS Code Starts --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
   BrainSINSTracker.trackUserLoggedOut();
&lt;/script&gt;
&lt;!-- BrainSINS Code Ends --&gt;</pre>
</section>

<h3>When the User Opts-out from Email Communications</h3>
  <p>When a users opts-out from your email communications, you must notify our system by including the following code:</p>

<pre class="prettyprint linenums">
&lt;!-- BrainSINS Code Starts --&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
   BrainSINSTracker.trackEMailNewsletter( EMAIL, 0 );
&lt;/script&gt;
&lt;!-- BrainSINS Code Ends --&gt;</pre>

<p>EMAIL should be replaced by the customer’s email.</p>

</section>



   </div>
</div>
 </div>

<!-- Footer
================================================== -->
<footer class="footer">
  <div class="container">
    <p>Design based on <a href="http://twitter.com/twbootstrap" target="_blank">@twbootstrap</a> by <a href="http://twitter.com/brainsins_en" target="_blank">@brainsins_en</a>.</p>
    <ul class="footer-links">
      <li><a href="http://www.brainsins.com/en" target="_blank">BrainSINS Home</a></li>
      <li class="muted">&middot;</li>
      <li><a href="http://brainsins.zendesk.com" target="_blank">Support</a></li>
      <li class="muted">&middot;</li>
      <li><a href="http://www.brainsins.com/en/blog" target="_blank">BrainSINS eCommerce Blog</a></li>
    </ul>
  </div>
</footer>



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
    <script src="assets/js/jquery.js"></script>
    <script src="assets/js/bootstrap-transition.js"></script>
    <script src="assets/js/bootstrap-alert.js"></script>
    <script src="assets/js/bootstrap-modal.js"></script>
    <script src="assets/js/bootstrap-dropdown.js"></script>
    <script src="assets/js/bootstrap-scrollspy.js"></script>
    <script src="assets/js/bootstrap-tab.js"></script>
    <script src="assets/js/bootstrap-tooltip.js"></script>
    <script src="assets/js/bootstrap-popover.js"></script>
    <script src="assets/js/bootstrap-button.js"></script>
    <script src="assets/js/bootstrap-collapse.js"></script>
    <script src="assets/js/bootstrap-carousel.js"></script>
    <script src="assets/js/bootstrap-typeahead.js"></script>
    <script src="assets/js/bootstrap-affix.js"></script>

    <script src="assets/js/holder/holder.js"></script>
    <script src="assets/js/google-code-prettify/prettify.js"></script>

    <script src="assets/js/application.js"></script>


  </body>
</html>
